<?php

class SongQuery{

    protected $pdo;
    protected $sql;

    public function __construct($pdo)
    {
        $this->pdo = $pdo;
        $this->sql = "SELECT * FROM songs
                      INNER JOIN artists
                      ON songs.artist_id = artist.id
                      INNER JOIN genres
                      ON songs.genre_id = genres.id
                      ORDER BY artist_name";
    }

    public function getAll()
    {
        $statement = $this->pdo->prepare($this->sql);
        $statement->execute();
        return $statement->fetchAll(PDO::FETCH_OBJ);
    }
}